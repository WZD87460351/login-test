(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"3yuA":function(e,t,a){"use strict";t["a"]={password:/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[~!@#$%^&*_-])[\da-zA-Z~!@#$%^&*_-]{8,24}$/,mail:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,phone:/^1[0-9]{10}$/,phoneOrMail:/(^0{0,1}1[0-9]{10}$)|(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/,firmName:/^[\u4e00-\u9fa5A-Za-z0-9\uff08\uff09()]+$/,word:/(^[\u4e00-\u9fa5A-Za-z]+$)|(^[A-Za-z]+\s[A-Za-z]+$)/,account:/^[\u4e00-\u9fa5A-Za-z0-9_]+$/,landline:/^(\+\d{2}(-|\s))?0(\d{2}-\d{8}|\d{3}-\d{7,8})(-[0-9]{4})?$/,address:/^[\u4e00-\u9fa5A-Za-z0-9]+$/}},EX4O:function(e,t,a){"use strict";a.r(t);a("+L6B");var r,n,o,s,l=a("2/Rp"),i=a("jehZ"),c=a.n(i),d=(a("5NDa"),a("5rEg")),u=a("2Taf"),m=a.n(u),p=a("vZ4D"),f=a.n(p),w=a("l4Ni"),g=a.n(w),h=a("ujKo"),v=a.n(h),y=a("MhPg"),b=a.n(y),_=(a("y8nQ"),a("Vl3Y")),E=a("q1tI"),D=a.n(E),T=a("3yuA"),P=a("wY1l"),A=a.n(P),C=a("MuoO"),$=a("jgyE"),M=a.n($);function x(e){return function(){var t,a=v()(e);if(R()){var r=v()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return g()(this,t)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var I={labelCol:{span:5},wrapperCol:{span:19}},N=_["a"].Item,S=(r=_["a"].create(),n=Object(C["connect"])(function(e){var t=e.loading;return{getMsgLoading:t.effects["app/getMsgCodeInRestPwd"],resetPasswordLoading:t.effects["app/resetPassword"]}}),r(o=n((s=function(e){b()(a,e);var t=x(a);function a(){var e;m()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),e.state={countDown:!1,restTime:60},e.timer=null,e.calcRestTime=function(){var t=localStorage.getItem("getMsgTime");if(t){var a=60-Math.floor((new Date-new Date(t))/1e3);a>0&&e.setState({countDown:!0,restTime:a},e.handleCountDown)}},e.handleCountDown=function(){e.timer=setInterval(function(){var t=e.state.restTime-1;t<=0?(e.setState({countDown:!1,restTime:60}),clearInterval(e.timer)):e.setState({restTime:t})},1e3)},e.confirmPassword=function(t,a,r){var n=e.props.form,o=n.getFieldValue,s=n.validateFields;a&&(T["a"].password.test(a)?(o("confirmTargetPwd")&&s(["confirmTargetPwd"],{force:!0}),r()):r("\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\u4e09\u79cd\u5f62\u5f0f\uff0c8-24\u4f4d")),r()},e.comparePassword=function(t,a,r){var n=e.props.form.getFieldValue;a&&a!==n("targetPwd")?r("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):r()},e.getMesCode=function(){var t=e.props,a=t.form,r=t.dispatch;a.validateFields(["mobile"],function(t,a){t||r({type:"app/getMsgCodeInRestPwd",payload:{mobile:a.mobile},callback:function(){localStorage.setItem("getMsgTime",new Date),e.setState({countDown:!0},e.handleCountDown)}})})},e.handleSubmit=function(t){t.preventDefault();var a=e.props,r=a.dispatch,n=a.form;n.validateFields(function(e,t){e||r({type:"app/resetPassword",payload:t,successCallback:function(){n.resetFields()}})})},e}return f()(a,[{key:"componentDidMount",value:function(){this.calcRestTime()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){var e=this.state,t=e.countDown,a=e.restTime,r=this.props,n=r.form,o=r.getMsgLoading,s=r.resetPasswordLoading,i=n.getFieldDecorator;return D.a.createElement("div",{className:M.a.wrapper},D.a.createElement("header",{className:M.a.header},"\u4e9a\u5a01\u667a\u4e91"),D.a.createElement("h1",{className:M.a.title},"\u5bc6\u7801\u91cd\u7f6e",D.a.createElement("div",{className:M.a.tips},D.a.createElement(A.a,{to:"/login"},"\u8fd4\u56de\u767b\u5f55"))),D.a.createElement(_["a"],{className:M.a.form,onSubmit:this.handleSubmit},D.a.createElement(N,c()({label:"\u624b\u673a\u53f7"},I),i("mobile",{validateTrigger:"onBlur",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:T["a"].phone,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}]})(D.a.createElement(d["a"],{maxLength:11,placeholder:"\u8f93\u5165\u624b\u673a\u53f7"}))),D.a.createElement(N,c()({label:"\u9a8c\u8bc1\u7801"},I),i("smsCode",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(D.a.createElement(d["a"],{maxLength:6,placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",addonAfter:D.a.createElement(l["a"],{type:"primary",loading:o,disabled:t&&a>0,onClick:this.getMesCode},t&&a>0?"".concat(a,"s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")}))),D.a.createElement(N,c()({label:"\u65b0\u5bc6\u7801",extra:"\u7279\u6b8a\u5b57\u7b26\u5305\u62ec~!@#$%^&*_-"},I),i("targetPwd",{validateTrigger:"onBlur",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{validator:this.confirmPassword}]})(D.a.createElement(d["a"],{type:"password",maxLength:24,placeholder:"8-24\u4f4d\uff0c\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\u4e09\u79cd\u5f62\u5f0f"}))),D.a.createElement(N,c()({label:"\u786e\u8ba4\u65b0\u5bc6\u7801"},I),i("confirmTargetPwd",{validateTrigger:"onBlur",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801"},{validator:this.comparePassword}]})(D.a.createElement(d["a"],{type:"password",maxLength:24,placeholder:"\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801"}))),D.a.createElement(N,{className:M.a.btnBox},D.a.createElement(l["a"],{type:"primary",htmlType:"submit",loading:s},"\u786e\u8ba4\u91cd\u7f6e"))))}}]),a}(E["Component"]),o=s))||o)||o);t["default"]=S},jgyE:function(e,t,a){e.exports={wrapper:"wrapper___2VqAD",header:"header___1IevA",title:"title___2R-xX",tips:"tips___2HT3C",form:"form___33Kqn",btnBox:"btnBox___NKdUc"}}}]);