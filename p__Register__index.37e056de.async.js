(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"+nS6":function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=(t("6UJt"),t("DFOY")),o=(t("5NDa"),t("5rEg")),l=t("p0pE"),s=t.n(l),i=t("jehZ"),c=t.n(i),m=t("2Taf"),d=t.n(m),p=t("vZ4D"),u=t.n(p),f=t("l4Ni"),g=t.n(f),h=t("ujKo"),v=t.n(h),w=t("MhPg"),b=t.n(w),y=(t("y8nQ"),t("Vl3Y")),E=(t("Znn+"),t("ZTPi")),P=t("q1tI"),I=t.n(P),C=t("3yuA"),T=t("wY1l"),D=t.n(T),L=t("MuoO"),x=(t("2qtc"),t("kLXV")),S=t("TSYQ"),_=t.n(S),M=t("5DSb"),k=t("cT6x"),A=t.n(k);function F(e){return function(){var a,t=v()(e);if(B()){var n=v()(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return g()(this,a)}}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var N,q,R,$,K=function(e){b()(t,e);var a=F(t);function t(){var e;d()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=a.call.apply(a,[this].concat(r)),e.handleSubmit=function(a){a.preventDefault();var t=e.props.onOk;t&&t()},e.handleCancel=function(){var a=e.props.onCancel;a&&a()},e}return u()(t,[{key:"render",value:function(){var e=this.props,a=e.centered,t=e.children,n=e.confirmLoading,r=e.modalLoading,o=void 0!==r&&r,l=e.hiddenFooter,i=void 0!==l&&l,c=e.okText,m=e.cancelText,d=e.title,p=e.visible,u=e.width,f=e.bodyStyle,g=void 0===f?{}:f,h=e.className,v=void 0===h?"":h;return I.a.createElement(x["a"],{title:d,visible:p,width:u||600,bodyStyle:s()({paddingRight:30},g),centered:a||!1,okText:c||"\u4fdd\u5b58",cancelText:m||"\u53d6\u6d88",confirmLoading:n,onOk:this.handleSubmit,onCancel:this.handleCancel,className:o||i?_()(A.a.loadingModal,A.a.standardModal,v):_()(A.a.standardModal,v)},o?I.a.createElement(M["default"],{style:{paddingBottom:100}}):t)}}]),t}(P["PureComponent"]),O=K,Z=t("B+pt"),V=t.n(Z);function z(e){return function(){var a,t=v()(e);if(j()){var n=v()(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return g()(this,a)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var J={labelCol:{span:5},wrapperCol:{span:19}},W={labelCol:{span:10},wrapperCol:{span:14}},Y={wrapperCol:{span:23,offset:1}},U={labelCol:{span:10},wrapperCol:{span:14}},Q=E["a"].TabPane,X=y["a"].Item,H=function(e){b()(t,e);var a=z(t);function t(){var e;d()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=a.call.apply(a,[this].concat(r)),e.handleSubmit=function(){var a=e.props.onOk;a&&a()},e.handleCancel=function(){var a=e.props.onCancel;a&&a()},e}return u()(t,[{key:"render",value:function(){var e=this.props,a=e.visible,t=e.confirmLoading,n=e.activeKey,r=e.firmInfo,o=r.firmName,l=r.username,s=r.email,i=r.mobile;return I.a.createElement(O,{title:"\u5373\u5c06\u4e3a\u60a8\u6ce8\u518c",okText:"\u786e\u8ba4\u6ce8\u518c",cancelText:"\u91cd\u65b0\u7f16\u8f91",visible:a,width:480,bodyStyle:{paddingBottom:20},confirmLoading:t,onOk:this.handleSubmit,onCancel:this.handleCancel},I.a.createElement(y["a"],null,I.a.createElement(X,c()({label:"1"===n?"\u516c\u53f8\u5168\u79f0":"\u6240\u5c5e\u516c\u53f8"},U),o),I.a.createElement(X,c()({label:"\u8054\u7cfb\u4eba"},U),l),I.a.createElement(X,c()({label:"\u90ae\u7bb1"},U),s),I.a.createElement(X,c()({label:"\u624b\u673a\u53f7"},U),i)))}}]),t}(P["Component"]),G=(N=y["a"].create(),q=Object(L["connect"])(function(e){var a=e.address,t=e.loading;return{provinceList:a.provinceList,getMsgLoading:t.effects["app/getMsgCode"],registerLoading:t.effects["app/register"]}}),N(R=q(($=function(e){b()(t,e);var a=z(t);function t(){var e;d()(this,t);for(var l=arguments.length,i=new Array(l),m=0;m<l;m++)i[m]=arguments[m];return e=a.call.apply(a,[this].concat(i)),e.state={activeKey:"1",countDown:!1,countDownInPerson:!1,restTime:60,restTimeInPerson:60,modalVisible:!1,firmInfo:{}},e.timer=null,e.timerInPerson=null,e.handleTabChange=function(a){e.setState({activeKey:a})},e.calcRestTime=function(){var a=localStorage.getItem("getMsgTime"),t=localStorage.getItem("getMsgTimeInPerson");if(a){var n=60-Math.floor((new Date-new Date(a))/1e3);n>0&&e.setState({countDown:!0,restTime:n},e.handleCountDown)}if(t){var r=60-Math.floor((new Date-new Date(t))/1e3);r>0&&e.setState({countDownInPerson:!0,restTimeInPerson:r},e.handleCountDownInPerson)}},e.handleCountDown=function(){e.timer=setInterval(function(){var a=e.state.restTime-1;a<=0?(e.setState({countDown:!1,restTime:60}),clearInterval(e.timer)):e.setState({restTime:a})},1e3)},e.handleCountDownInPerson=function(){e.timerInPerson=setInterval(function(){var a=e.state.restTimeInPerson-1;a<=0?(e.setState({countDownInPerson:!1,restTimeInPerson:60}),clearInterval(e.timerInPerson)):e.setState({restTimeInPerson:a})},1e3)},e.confirmPassword=function(a,t,n){var r=e.props.form,o=r.getFieldValue,l=r.validateFields;t&&(C["a"].password.test(t)?(o("confirm")&&l(["confirm"],{force:!0}),n()):n("\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\u4e09\u79cd\u5f62\u5f0f\uff0c8-24\u4f4d")),n()},e.comparePassword=function(a,t,n){var r=e.props.form.getFieldValue;t&&t!==r("password")?n("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):n()},e.confirmPasswordInPerson=function(a,t,n){var r=e.props.form,o=r.getFieldValue,l=r.validateFields;t&&(C["a"].password.test(t)?(o("confirmInPerson")&&l(["confirmInPerson"],{force:!0}),n()):n("\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\u4e09\u79cd\u5f62\u5f0f\uff0c8-24\u4f4d")),n()},e.comparePasswordInPerson=function(a,t,n){var r=e.props.form.getFieldValue;t&&t!==r("passwordInPerson")?n("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):n()},e.loadData=function(a){var t=a[a.length-1];t.loading=!0,e.props.dispatch({type:"address/getCities",payload:{name:t.value}})},e.getMesCode=function(){var a=e.state.activeKey,t=e.props,n=t.form,r=t.dispatch;n.validateFields(["mobile"],function(t,n){t||r({type:"app/getMsgCode",payload:{mobile:"1"===a?n.mobile:n.mobileInPerson},callback:function(){localStorage.setItem("1"===a?"getMsgTime":"getMsgTimeInPerson",new Date),"1"===a?e.setState({countDown:!0},e.handleCountDown):e.setState({countDownInPerson:!0},e.handleCountDownInPerson)}})})},e.validateFormAndShowModal=function(a){a.preventDefault(),e.props.form.validateFields(function(a,t){if(console.log(a,s()({},t)),!a){var n=e.state.activeKey;"1"===n&&(t.landLine=t.landLine||null,t.firmAddress=t.firmAddress||null),t.province&&(t.firmAddressProvince=t.province[0],t.firmAddressCity=t.province[1],delete t.province),delete t.confirm,delete t.confirmInPerson,"2"===n&&Object.keys(t).forEach(function(e){e.indexOf("InPerson")>-1&&(t[e.slice(0,-8)]=t[e],delete t[e])}),e.setState({modalVisible:!0,firmInfo:t})}})},e.handleSubmit=function(){var a=e.props,t=a.dispatch,n=a.form;t({type:"app/register",payload:s()({},e.state.firmInfo,{type:"1"===e.state.activeKey?"firm":"person"}),successCallback:function(){e.setState({modalVisible:!1}),n.resetFields()}})},e.handleCancel=function(){e.setState({modalVisible:!1})},e.renderFirmForm=function(){var a=e.state,t=a.activeKey,l=a.countDown,s=a.restTime,i=e.props,m=i.form,d=i.provinceList,p=i.getMsgLoading,u=m.getFieldDecorator;return I.a.createElement(y["a"],{className:V.a.form,onSubmit:e.validateFormAndShowModal},I.a.createElement(X,c()({label:"\u516c\u53f8\u5168\u79f0"},J),u("firmName",{rules:[{required:"1"===t,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u5168\u79f0"},{pattern:C["a"].firmName,message:"\u516c\u53f8\u5168\u79f0\u53ea\u80fd\u662f\u4e2d\u82f1\u6587\u6570\u5b57\u5c0f\u62ec\u53f7"}]})(I.a.createElement(o["a"],{maxLength:64,placeholder:"\u8f93\u5165\u516c\u53f8\u5168\u79f0"}))),I.a.createElement(X,c()({label:"\u5ea7\u673a"},J),u("landLine",{validateTrigger:"onBlur",rules:[{pattern:C["a"].landline,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5ea7\u673a\u53f7\u7801"}]})(I.a.createElement(o["a"],{maxLength:21,placeholder:"\u5e26\u533a\u53f7\u8f93\u5165\u5ea7\u673a\u53f7\u7801\uff0c\u4ee5\u201c-\u201d\u8fde\u63a5"}))),I.a.createElement(X,c()({label:"\u5730\u5740"},W,{style:{width:"50%",display:"inline-block"}}),u("province",{rules:[{required:"1"===t,message:"\u8bf7\u9009\u62e9\u7701/\u5e02"}]})(I.a.createElement(r["a"],{placeholder:"\u9009\u62e9\u7701/\u5e02",style:{width:"100%"},options:d||[],loadData:e.loadData}))),I.a.createElement(X,c()({},Y,{style:{width:"50%",display:"inline-block"}}),u("firmAddress",{rules:[{pattern:C["a"].address,message:"\u5730\u5740\u53ea\u80fd\u662f\u4e2d\u82f1\u6587\u6570\u5b57"}]})(I.a.createElement(o["a"],{maxLength:128,placeholder:"\u8f93\u5165\u8be6\u7ec6\u5730\u5740\uff0c\u9009\u586b"}))),I.a.createElement(X,c()({label:"\u8054\u7cfb\u4eba"},J),u("username",{rules:[{required:"1"===t,message:"\u8bf7\u8f93\u5165\u59d3\u540d"},{pattern:C["a"].word,message:"\u59d3\u540d\u53ea\u80fd\u662f\u4e2d\u82f1\u6587"}]})(I.a.createElement(o["a"],{maxLength:32,placeholder:"\u8f93\u5165\u59d3\u540d"}))),I.a.createElement(X,c()({label:"\u90ae\u7bb1"},J),u("email",{validateTrigger:"onBlur",rules:[{required:"1"===t,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{pattern:C["a"].mail,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1"}]})(I.a.createElement(o["a"],{maxLength:40,placeholder:"\u8f93\u5165\u90ae\u7bb1"}))),I.a.createElement(X,c()({label:"\u5bc6\u7801",extra:"\u7279\u6b8a\u5b57\u7b26\u5305\u62ec~!@#$%^&*_-"},J),u("password",{validateTrigger:"onBlur",rules:[{required:"1"===t,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{validator:e.confirmPassword}]})(I.a.createElement(o["a"],{type:"password",maxLength:24,placeholder:"8-24\u4f4d\uff0c\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\u4e09\u79cd\u5f62\u5f0f"}))),I.a.createElement(X,c()({label:"\u786e\u8ba4\u5bc6\u7801"},J),u("confirm",{validateTrigger:"onBlur",rules:[{required:"1"===t,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"},{validator:e.comparePassword}]})(I.a.createElement(o["a"],{type:"password",maxLength:24,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}))),I.a.createElement(X,c()({label:"\u624b\u673a\u53f7"},J),u("mobile",{validateTrigger:"onBlur",rules:[{required:"1"===t,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:C["a"].phone,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}]})(I.a.createElement(o["a"],{maxLength:11,placeholder:"\u8f93\u5165\u624b\u673a\u53f7"}))),I.a.createElement(X,c()({label:"\u9a8c\u8bc1\u7801"},J),u("smsCode",{rules:[{required:"1"===t,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(I.a.createElement(o["a"],{maxLength:6,placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",addonAfter:I.a.createElement(n["a"],{type:"primary",loading:p,disabled:l&&s>0,onClick:e.getMesCode},l&&s>0?"".concat(s,"s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")}))),I.a.createElement(X,{className:V.a.btnBox},I.a.createElement(n["a"],{type:"primary",htmlType:"submit"},"\u6ce8\u518c")))},e.renderPersonForm=function(){var a=e.state,t=a.activeKey,r=a.countDownInPerson,l=a.restTimeInPerson,s=e.props,i=s.form,m=s.getMsgLoading,d=i.getFieldDecorator;return I.a.createElement(y["a"],{className:V.a.form,onSubmit:e.validateFormAndShowModal},I.a.createElement(X,c()({label:"\u6240\u5c5e\u516c\u53f8"},J),d("firmNameInPerson",{rules:[{required:"2"===t,message:"\u8bf7\u8f93\u5165\u6240\u5c5e\u516c\u53f8"},{pattern:C["a"].firmName,message:"\u6240\u5c5e\u516c\u53f8\u53ea\u80fd\u662f\u4e2d\u82f1\u6587\u6570\u5b57\u5c0f\u62ec\u53f7"}]})(I.a.createElement(o["a"],{maxLength:64,placeholder:"\u8f93\u5165\u6240\u5c5e\u516c\u53f8"}))),I.a.createElement(X,c()({label:"\u59d3\u540d"},J),d("usernameInPerson",{rules:[{required:"2"===t,message:"\u8bf7\u8f93\u5165\u59d3\u540d"},{pattern:C["a"].word,message:"\u59d3\u540d\u53ea\u80fd\u662f\u4e2d\u82f1\u6587"}]})(I.a.createElement(o["a"],{maxLength:32,placeholder:"\u8f93\u5165\u59d3\u540d"}))),I.a.createElement(X,c()({label:"\u90ae\u7bb1"},J),d("emailInPerson",{validateTrigger:"onBlur",rules:[{required:"2"===t,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{pattern:C["a"].mail,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1"}]})(I.a.createElement(o["a"],{maxLength:40,placeholder:"\u8f93\u5165\u90ae\u7bb1"}))),I.a.createElement(X,c()({label:"\u5bc6\u7801",extra:"\u7279\u6b8a\u5b57\u7b26\u5305\u62ec~!@#$%^&*_-"},J),d("passwordInPerson",{validateTrigger:"onBlur",rules:[{required:"2"===t,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{validator:e.confirmPassword}]})(I.a.createElement(o["a"],{type:"password",maxLength:24,placeholder:"8-24\u4f4d\uff0c\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\u4e09\u79cd\u5f62\u5f0f"}))),I.a.createElement(X,c()({label:"\u786e\u8ba4\u5bc6\u7801"},J),d("confirmInPerson",{validateTrigger:"onBlur",rules:[{required:"2"===t,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"},{validator:e.comparePassword}]})(I.a.createElement(o["a"],{type:"password",maxLength:24,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}))),I.a.createElement(X,c()({label:"\u624b\u673a\u53f7"},J),d("mobileInPerson",{validateTrigger:"onBlur",rules:[{required:"2"===t,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:C["a"].phone,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}]})(I.a.createElement(o["a"],{maxLength:11,placeholder:"\u8f93\u5165\u624b\u673a\u53f7"}))),I.a.createElement(X,c()({label:"\u9a8c\u8bc1\u7801"},J),d("smsCodeInPerson",{rules:[{required:"2"===t,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(I.a.createElement(o["a"],{maxLength:6,placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",addonAfter:I.a.createElement(n["a"],{type:"primary",loading:m,disabled:r&&l>0,onClick:e.getMesCode},r&&l>0?"".concat(l,"s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")}))),I.a.createElement(X,{className:V.a.btnBox},I.a.createElement(n["a"],{type:"primary",htmlType:"submit"},"\u6ce8\u518c")))},e}return u()(t,[{key:"componentDidMount",value:function(){this.calcRestTime(),0===this.props.provinceList.length&&this.props.dispatch({type:"address/getProvinces"})}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer),this.timerInPerson&&clearInterval(this.timerInPerson)}},{key:"render",value:function(){var e=this.state,a=e.activeKey,t=e.modalVisible,n=e.firmInfo,r=this.props.registerLoading;return I.a.createElement("div",{className:V.a.wrapper},I.a.createElement("header",{className:V.a.header},"\u4e9a\u5a01\u667a\u4e91"),I.a.createElement("h1",{className:V.a.title},"\u6b22\u8fce\u6ce8\u518c\u4e9a\u5a01\u667a\u4e91",I.a.createElement("div",{className:V.a.tips},"\u5df2\u6709\u8d26\u53f7\uff1f",I.a.createElement(D.a,{to:"/login"},"\u7acb\u5373\u767b\u5f55"))),I.a.createElement(E["a"],{className:V.a.tabWrapper,activeKey:a,onChange:this.handleTabChange},I.a.createElement(Q,{tab:"\u4f01\u4e1a\u6ce8\u518c",key:"1"},this.renderFirmForm()),I.a.createElement(Q,{tab:"\u4e2a\u4eba\u6ce8\u518c",key:"2"},this.renderPersonForm())),I.a.createElement(H,{visible:t,confirmLoading:r,firmInfo:n,activeKey:a,onOk:this.handleSubmit,onCancel:this.handleCancel}))}}]),t}(P["Component"]),R=$))||R)||R);a["default"]=G},"3yuA":function(e,a,t){"use strict";a["a"]={password:/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[~!@#$%^&*_-])[\da-zA-Z~!@#$%^&*_-]{8,24}$/,mail:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,phone:/^1[0-9]{10}$/,phoneOrMail:/(^0{0,1}1[0-9]{10}$)|(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/,firmName:/^[\u4e00-\u9fa5A-Za-z0-9\uff08\uff09()]+$/,word:/(^[\u4e00-\u9fa5A-Za-z]+$)|(^[A-Za-z]+\s[A-Za-z]+$)/,account:/^[\u4e00-\u9fa5A-Za-z0-9_]+$/,landline:/^(\+\d{2}(-|\s))?0(\d{2}-\d{8}|\d{3}-\d{7,8})(-[0-9]{4})?$/,address:/^[\u4e00-\u9fa5A-Za-z0-9]+$/}},"B+pt":function(e,a,t){e.exports={wrapper:"wrapper___i75RU",header:"header___2bKyo",title:"title___21ZLn",tips:"tips___1jjiC",form:"form___1HWJX",btnBox:"btnBox___1PvBO",tabWrapper:"tabWrapper___1kJoD"}},cT6x:function(e,a,t){e.exports={loadingModal:"loadingModal___3V8-f",standardModal:"standardModal___1j7tO"}}}]);